formikation={dat:{els:null},defaults:{mapClass:!0,mapStyle:!0},init:function(t){return"undefined"==typeof document.body.style.maxHeight?this:(this.defaults=$.extend(this.defaults,t),void this.dat.els.each(function(){$(this).is(":checkbox, :radio")?formikation.processRadioCheck(this):$(this).is("select")?formikation.processSelects(this):$(this).is("input:file")&&formikation.processInputFile(this)}))},processRadioCheck:function(t){var e=$(t),s=e.closest("label");s.addClass(e.is(":checkbox")?"fk-check":"fk-radio"),this.defaults.mapClass&&s.addClass(e.attr("class")),this.defaults.mapStyle&&s.attr("style",e.attr("style")),e.on("fk_update",function(){e.prop("checked")?(e.closest("form").find(':radio[name="'+e.attr("name")+'"]').closest("label").removeClass("checked"),s.addClass("checked")):s.removeClass("checked")}),e.on("click",function(){e.trigger("fk_update")}),e.trigger("fk_update")},processSelects:function(t){var e=$(t),s=$("<span />").addClass("fk-select-label"),a=$("<span />"),i="fk-select";e.after(a.append(s)),a.addClass(i),this.defaults.mapClass&&a.addClass(e.attr("class")),this.defaults.mapStyle&&a.attr("style",e.attr("style")),e.addClass("has-fk-select").on("update",function(){formikation.changed(e,a),formikation.updateSelectWH(e)}).on("change",function(){a.addClass(formikation.getClass(e,"Changed")),formikation.changed(e,a),formikation.updateSelectWH(e)}).on("keyup",function(t){a.hasClass(formikation.getClass(e,"Open"))?(13==t.which||27==t.which)&&formikation.changed(e,a):(e.blur(),e.focus())}).on("mousedown",function(){a.removeClass(formikation.getClass(e,"Changed"))}).on("mouseup",function(t){a.hasClass(formikation.getClass(e,"Open"))||($("."+formikation.getClass(e,"Open")).not(a).length>0&&"undefined"!=typeof InstallTrigger?e.focus():(a.addClass(formikation.getClass(e,"Open")),t.stopPropagation(),$(document).one("mouseup."+formikation.getClass(e,"Open"),function(t){t.target!=e.get(0)&&$.inArray(t.target,e.find("*").get())<0?e.blur():formikation.changed(e,a)})))}).focus(function(){a.removeClass(formikation.getClass(e,"-changed")).addClass(formikation.getClass(e,"-focus"))}).blur(function(){a.removeClass(formikation.getClass(e,"-focus")+" "+formikation.getClass(e,"-open"))}).hover(function(){a.addClass(formikation.getClass(e,"-hover"))},function(){a.removeClass(formikation.getClass(e,"-hover"))}).trigger("update")},processInputFile:function(t){var e=$('<div class="fk-file-input">');$(t).on("change",function(){var t=$(this).val().replace(/C:\\fakepath\\/i,"");t||(t="Select file..."),$(this).prev("p").html(t)}),$(t).wrap(e).parent().prepend("<p>Select file...</p>")},updateSelectWH:function(t){var e=$(t),s=e.next("span");s.css({display:"inline-block"});var a=parseInt(s.outerWidth(),10),i=parseInt(s.outerHeight(),10);e.attr("disabled")?s.addClass(formikation.getClass(e,"Disabled")):s.removeClass(formikation.getClass(e,"Disabled")),e.css({"-webkit-appearance":"menulist-button",width:a,height:i,position:"absolute",opacity:0,fontSize:s.css("font-size")})},getClass:function(t,e){var s=t.is("input:file")?"fk-file":"fk-select";return s+e},changed:function(t,e){var s=t.find(":selected"),a=e.children(":first"),i=s.html()||t.val();a.html(i),s.attr("disabled")?e.addClass(formikation.getClass(t,"fk-disable-option")):e.removeClass(formikation.getClass(t,"fk-disable-option")),setTimeout(function(){e.removeClass(formikation.getClass(t,"Open")),$(document).off("mouseup."+formikation.getClass(t,"Open"))},60)}},function(t){t.fn.formikation=function(t){formikation.dat.els=this,formikation.init(t)}}(jQuery);
//# sourceMappingURL=maps/jquery.formikation.min.js.map