{"version":3,"sources":["jquery.formikation.js"],"names":["formikation","dat","els","defaults","mapClass","mapStyle","init","params","document","body","style","maxHeight","this","$","extend","each","is","processRadioCheck","processSelects","processInputFile","el","$el","$label","closest","addClass","attr","on","prop","find","removeClass","is_disabled","trigger","selectInnerSpan","selectSpan","prefix","after","append","changed","updateSelectWH","getClass","e","hasClass","which","blur","focus","not","length","InstallTrigger","stopPropagation","one","target","get","inArray","hover","$div","fn","val","replace","prev","html","wrap","parent","prepend","sel","$sel","$spa","next","css","display","w","parseInt","outerWidth","h","outerHeight","-webkit-appearance","width","height","position","opacity","fontSize","suffix","currentSelected","selectSpanInner","children","setTimeout","off","$target","jQuery"],"mappings":"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","file":"jquery.formikation.min.js","sourcesContent":["/*\n\n  Formikation, simple form beautifier\n  By Víctor Ortiz @vorthize\n\n    Collaborators:\n    Carlos Cabo @putuko\n\n  V.0.2.1\n  https://github.com/vortizhe/formikation\n\n*/\n\n;formikation = {\n\n  // Internal variables / DOM caching / etc.\n  dat: {\n    els: null // elements\n  },\n\n  // Default settings / params\n  defaults: {\n    mapClass: true,\n    mapStyle: true\n  },\n\n  // Aquí se inicializa el tema de verdad\n  init: function(params) {\n\n    // filter out <= IE6\n    if (typeof document.body.style.maxHeight === 'undefined') {\n      return this;\n    }\n\n    // Merge the params to default\n    this.defaults = $.extend(this.defaults, params);\n\n    // Process elements in collection\n    this.dat.els.each( function( idx ) {\n      // Check / radio\n      if ($(this).is(':checkbox, :radio')) {\n        formikation.processRadioCheck(this);\n      // Select\n      } else if ($(this).is('select')) {\n        formikation.processSelects(this);\n      // File input\n      } else if ($(this).is('input:file')) {\n        formikation.processInputFile(this);\n      // Nor to be processed\n      } else {\n        // Do nothing?\n      }\n    });\n  },\n\n  // Aquí se procesan los checks\n  processRadioCheck: function(el) {\n    var\n      $el = $(el),\n      $label = $el.closest('label');\n\n    // Add class with sprite\n    if ($el.is(':checkbox')) {\n      $label.addClass('fk-check');\n    } else {\n      $label.addClass('fk-radio');\n    }\n    if (this.defaults.mapClass) {\n      $label.addClass($el.attr('class'));\n    }\n    if (this.defaults.mapStyle) {\n      $label.attr('style', $el.attr('style'));\n    }\n\n    $el.on('formikation.update', function () {\n\n      if ($el.prop('checked')) {\n        $el.closest('form').find(':radio[name=\"'+$el.attr('name')+'\"]').closest('label').removeClass('checked');\n        $label.addClass('checked');\n      } else {\n        $label.removeClass('checked');\n      }\n\n      formikation.is_disabled($el, $label);\n    });\n\n\n    $el.on('click, change', function() {\n      $el.trigger('formikation.update');\n    });\n\n    $el.trigger('formikation.update');\n  },\n\n  // Process selects\n  processSelects: function(el) {\n    var\n      $el = $(el),\n      selectInnerSpan = $('<span />').addClass('fk-select-label'),\n      selectSpan = $('<span />'),\n      prefix = 'fk-select';\n\n    $el.after(selectSpan.append(selectInnerSpan));\n\n    selectSpan.addClass(prefix);\n\n    if (this.defaults.mapClass) {\n      selectSpan.addClass($el.attr('class'));\n    }\n    if (this.defaults.mapStyle) {\n      selectSpan.attr('style', $el.attr('style'));\n    }\n\n    $el.addClass('has-fk-select')\n       .on('formikation.update', function () {\n         formikation.changed($el,selectSpan);\n         formikation.updateSelectWH($el);\n         formikation.is_disabled($el, selectSpan);\n       })\n       .on('change', function () {\n          selectSpan.addClass(formikation.getClass($el, 'Changed'));\n          $el.trigger('formikation.update');\n       })\n       .on('keyup', function (e) {\n         if(!selectSpan.hasClass(formikation.getClass($el, 'Open'))){\n           $el.blur();\n           $el.focus();\n         } else{\n           if(e.which==13||e.which==27){\n             formikation.changed($el,selectSpan);\n           }\n         }\n       })\n       .on('mousedown', function (e) {\n         selectSpan.removeClass(formikation.getClass($el, 'Changed'));\n       })\n       .on('mouseup', function (e) {\n         if( !selectSpan.hasClass(formikation.getClass($el, 'Open'))){\n           // if FF and there are other selects open, just apply focus\n           if($('.'+formikation.getClass($el, 'Open')).not(selectSpan).length>0 && typeof InstallTrigger !== 'undefined'){\n             $el.focus();\n           }else{\n             selectSpan.addClass(formikation.getClass($el, 'Open'));\n             e.stopPropagation();\n             $(document).one('mouseup.'+formikation.getClass($el, 'Open'), function (e) {\n               if( e.target != $el.get(0) && $.inArray(e.target,$el.find('*').get()) < 0 ){\n                 $el.blur();\n               }else{\n                 formikation.changed($el,selectSpan);\n               }\n             });\n           }\n         }\n       })\n       .focus(function () {\n         selectSpan.removeClass(formikation.getClass($el, '-changed')).addClass(formikation.getClass($el, '-focus'));\n       })\n       .blur(function () {\n         selectSpan.removeClass(formikation.getClass($el, '-focus')+' '+formikation.getClass($el, '-open'));\n       })\n       .hover(function () {\n         selectSpan.addClass(formikation.getClass($el, '-hover'));\n       }, function () {\n         selectSpan.removeClass(formikation.getClass($el, '-hover'));\n       })\n       .trigger('formikation.update');\n  },\n\n  // Process input file\n  processInputFile: function(el) {\n    var $div = $('<div class=\"fk-file-input\">'),\n        $el = $(el);\n    $el.on('change', function(e) {\n      // e.preventDefault();\n      var fn = $el.val().replace(/C:\\\\fakepath\\\\/i, '');\n      if (!fn) {\n        fn = 'Select file...';\n      }\n      $el.prev('p').html(fn);\n    });\n    formikation.is_disabled($el, $div);\n    $el.wrap($div).parent().prepend('<p>Select file...</p>');\n  },\n\n  // Updates select width to match span\n  updateSelectWH: function(sel) {\n    var\n      $sel = $(sel),\n      $spa = $sel.next('span');\n\n    // Set to inline-block before calculating outerHeight\n    $spa.css({\n      display: 'inline-block'\n    });\n\n    var\n      w = parseInt($spa.outerWidth(), 10),\n      h = parseInt($spa.outerHeight(), 10);\n\n    $sel.css({\n      '-webkit-appearance': 'menulist-button',\n      width: w,\n      height: h,\n      position: 'absolute',\n      opacity: 0,\n      fontSize: $spa.css('font-size')\n    });\n  },\n\n  // HELPERS FUNCTIONS UTILITIES ================\n  // Returns class depending on type adding suffix\n  getClass: function(el, suffix){\n    var prefix = (el.is('input:file')) ? 'fk-file' : 'fk-select';\n    return prefix + suffix;\n  },\n\n  // ?\n  changed: function($el,selectSpan) {\n    var currentSelected = $el.find(':selected'),\n    selectSpanInner = selectSpan.children(':first'),\n    html = currentSelected.html() || $el.val();\n\n    selectSpanInner.html(html);\n\n    if (currentSelected.prop('disabled')) {\n      selectSpan.addClass(formikation.getClass($el, 'fk-disable-option'));\n    } else {\n      selectSpan.removeClass(formikation.getClass($el, 'fk-disable-option'));\n    }\n\n    setTimeout(function() {\n      selectSpan.removeClass(formikation.getClass($el, 'Open'));\n      $(document).off('mouseup.'+formikation.getClass($el, 'Open'));\n    }, 60);\n  },\n\n  // Check if element is disabled\n  is_disabled: function($el, $target) {\n    if ($el.prop('disabled')) {\n      $target.addClass('disabled');\n    } else {\n      $target.removeClass('disabled');\n    }\n  }\n\n};\n\n// JQuery hooks\n(function ($) {\n  $.fn.formikation = function(params) {\n    formikation.dat.els = this; // JQuery elements\n    formikation.init(params);\n  };\n})(jQuery);\n"],"sourceRoot":"/source/"}